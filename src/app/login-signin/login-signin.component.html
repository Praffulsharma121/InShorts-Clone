
<div class="container text-center" style="background-color: transparent;">
    <img src="assets/images/logo_inshorts.png" width="300" height="140">
</div>

<div class="modal modal-signin position-static d-block py-5" tabindex="-1" role="dialog" id="modalSignin" *ngIf="!isLoading">
    <div class="modal-dialog" role="document">
      <div class="modal-content rounded-5 shadow">
        <div class="modal-header border-bottom-0">
          <!-- <h5 class="modal-title">Modal title</h5> -->
          <div class="btn-group">
                <h2 class="btn btn-light" [ngClass]="loginActive" (click)="onChange('login')">Log in</h2>
                <h2 class="btn btn-light" [ngClass]="signinActive" (click)="onChange('signin')">Sign up</h2>
          </div>
        </div>
        <div class="modal-body p-5 pt-0">
          <form [formGroup]="loginForm" *ngIf="loginActive==='active'" (ngSubmit)="onLogin()">
            <div class="formDetails">
                <div class="form-group">
                    <label for="email" class="title">Email:</label>
                    <input id="email" formControlName="email" type="email" required ngModal class="form-control" placeholder="Email">
                    <span *ngIf="!loginForm.get('email')?.valid && loginForm.get('email')?.touched"  class="help-block" style="color: red;">Please enter a valid email</span>
                </div>
                <div class="form-group">
                    <label for="password" class="title">Password:</label>
                    <input id="password" formControlName="password" type="password" placeholder="password" required ngModal minlength="5" class="form-control">
                    <span *ngIf="!loginForm.get('password')?.valid && loginForm.get('password')?.touched"  class="help-block" style="color: red;">Please enter correct password</span>
                </div>
                <button class="w-100 mb-2 btn btn-lg rounded-4 btn-primary" type="submit" [disabled]="!loginForm.valid">Log in</button>
                <div class="alert alert-danger mt-2" *ngIf="error">
                  {{error}}
                </div>
            </div>
          </form>

          <form [formGroup]="signinForm" *ngIf="signinActive==='active'" (ngSubmit)="onSignin()">
            <div class="formDetails">
                <!-- <div class="form-group">
                    <label for="name" class="title">Name:</label>
                    <input id="name" type="text" placeholder="name" required [(ngModel)]="userName" class="form-control">
                </div> -->
                <div class="form-group">
                    <label for="email" class="title">Email:</label>
                    <input id="email" formControlName="email" type="email" required ngModal class="form-control" placeholder="Email">
                    <span *ngIf="!signinForm.get('email')?.valid && signinForm.get('email')?.touched"  class="help-block" style="color: red;">Please enter a valid email</span>
                </div>
                <div class="form-group">
                    <label for="password" class="title">Password:</label>
                    <input id="password" formControlName="password" type="password" placeholder="password" required ngModal minlength="5" class="form-control">
                    <span *ngIf="!signinForm.get('password')?.valid && signinForm.get('password')?.touched"  class="help-block" style="color: red;">Please enter a valid email</span>
                </div>
                <button class="w-100 mb-2 btn btn-lg rounded-4 btn-primary" type="submit" [disabled]="!signinForm.valid">Sign up</button>
                <div class="alert alert-danger" *ngIf="error">
                  {{error}}
                </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="container text-center mt-5">
    <app-loading-spinner *ngIf="isLoading" class="text-center"></app-loading-spinner>
  </div>